<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <%- include ("base") %>
</head>
<body>
    <div>
        <button type="button" onclick="view();">작성일순</button><button onclick="location.href='/api/boards/likeSort' ">좋아요순</button><button>싫어요순</button>
    </div>
    <div>
        <table border="1">
                <th>번호</th>
	            <th>제목</th>
                <th>작성자</th>
                <th>좋아요</th>
                <th>싫어요</th>
                <th>작성일</th>
        <% if (boards) {
            for (let i=0; i < boards.length; i++) { %>
                <tr>
                    <td><%= i+1 %></td>
                    <td><a href="/boards/<%=boards[i].board_id%>"><%= boards[i].title %></a></td>
                    <td><%= boards[i].writer %></td>
                    <td><%= boards[i].like %></td>
                    <td><%= boards[i].hate %></td>
                    <td><%= boards[i].createdAt %></td>
                </tr>
        <% }
    } else { %>
        <tr>SORRY, not found</tr>
        <%}%>
    </table>
    </div>
</body>
<script>
    function view() {
        fetch(`/api/boards/date`, {
            method: "post", // apiRouter에서 post로 보냈기 때문에
        });
    }
    </script>
</html>